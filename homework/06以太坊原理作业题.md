### 什么是以太坊？

**回点**

* *以太坊是一个于 2015 年 7 月正式投入运行的著名区块链底层平台，它可以支持去中心化应用（DApp）的开发和运行。它采用了 PoS（权益证明）作为共识机制。这些应用能够把现实世界的资产，如股票和财产，整合到区块链上。

### 以太坊的概念是由谁首次提出的，并在何时？

**回点**

* 以太坊的概念由 Vitalik Buterin 在 2013 年底提出，并在《比特币杂志》中发表的一篇白皮书中详细阐述。

### 以太坊的首个公开发布是在什么时候，哪里进行的？

**回点**

* 以太坊在 2014 年 1 月的迈阿密北美比特币会议上首次对外公开发布。

### The DAO"是什么，以及它如何影响以太坊？

**回点**

* The DAO 是一个基于以太坊的分布式自治组织，似投资基金的组织，允许社区成员通过投票授权为以太坊项目提供资金。旨在作为一个去中心化的投资基金。
* 2016 年，由于一个安全漏洞，DAO 项目被黑客攻击，导致以太坊进行了一次重大的硬分叉。

### 以太坊进行硬分叉的目的是什么？

**回点**

* 硬分叉的目的是为了恢复因 The DAO 安全漏洞而被盗的资金，通过一次硬分叉的操作，试图将这些以太币找回。并尝试解决安全问题。
* 这次硬分叉最终导致以太坊分成两条链：一条是原链 ETC（以太坊经典），另一条是新分叉出的 ETH（现以太坊）。

### 什么是企业以太坊联盟（EEA），它成立于何时？

**回点**

* 企业以太坊联盟（EEA）是一个由多家区块链初创公司、研究小组和财富 500 强公司组成的联盟，成立于 2017 年 3 月，旨在推动以太坊技术的商业应用。

### 以太坊 2.0 与以太坊 1.0 有何不同？

**回点**

* 以太坊 1.0：被称为“执行层”，主要负责交易的处理和执行；

* 以太坊 2.0：被视为“共识层”，它采用了 PoS（权益证明）作为共识机制。此外，2.0 版本还包括了一系列其他升级，例如增加交易吞吐量、引入分片技术和优化 EVM（以太坊虚拟机）架构等。

### Metamask 插件的主要功能是什么？

**回点**

* Metamask 是一个浏览器插件，允许用户通过图形界面进行交易、编写和部署合约，同时管理其以太坊钱包和账户。是用于与以太坊区块链进行互动的软件加密货币钱包。它可以通过浏览器扩充程式或行动应用程式让使用者访问其以太坊钱包，与去中心化应用进行互动。

### 在以太坊中，'gas'的概念是用来做什么的？

**回点**

* 在以太坊中，'gas'用来衡量执行交易或智能合约时所需的计算工作量，同时也是矿工执行这些操作所需费用的计量单位。

### 什么是智能合约？

**回点**

* 是一段运行在以太坊系统中的代码，也称为代码合同，它能够执行与现实世界合同相似的约束性行为。
  * 适用于一旦设定便不轻易修改的业务场景。确保了合同执行的透明性和不可篡改性。

### 如何在以太坊上创建一个账户？

**回点**

* 用户可以通过安装 Metamask 等以太坊钱包软件并设置密码来创建一个账户。
* 账户创建过程中，用户将获得一组助记词，这组助记词是恢复账户的关键。

### 以太坊的挖矿机制是如何工作的？

**回点**

* 挖矿是矿工通过付出一定的努力（例如计算工作量）来竞争记账权的过程。
* 在以太坊 1.0 中，挖矿是通过工作量证明（PoW）共识机制完成的，矿工通过解决复杂的数学问题来竞争区块的记账权。
* 在以太坊 2.0 中，系统将转向使用权益证明（PoS），减少能源消耗，避免算力过度集中引起的中心化问题，并理论上能缩短达成共识的时间，并且逻辑简单，实现容易；

### 描述以太坊交易的基本组成部分。

**回点**

1. **消息接收者（to）** ：接收者的地址。在创建合约的交易中，此字段为空，采用默认的零地址 。
2. **私钥签名（v, r, s）** ：用于验证交易的发送者。以太坊目前采用的签名方案是根据 EIP-155 规定的，该规定引入了交易重放保护机制，v 字段确保了链标识符的不可篡改性，防止交易在不同的链上被重放 。
3. **转移金额（value）** ：以 wei 为单位，从发送者向接收者转移的金额，或者是创建合约时赋予合约账户的初始金额。
4. **交易附带数据（data）** ：一个可以包含任意大小的字节数组，用作交易的附加信息，或者包含合约代码及其参数 。
5. ​**Gas 相关参数**​：
   * ​**GasLimit**​：发送者为这次交易设定的最大 Gas 消耗量，是交易在执行过程中允许消耗的最大计算资源量 。
   * ​**GasPrice**​：发送者愿意为每单位 Gas 支付的价格，是每个计算步骤所需支付给矿工的费用 。
6. **发送者账户交易数量（nonce）** ：发送者账户的 nonce，表示该账户发出的交易总数，用以防止重复交易（双花问题） 。
7. **合约创建初始化代码（init）** ：仅在创建合约类型的交易中使用，用于初始化新合约账户的 EVM 代码片段。init 代码在首次执行时将返回一个永久与合约账户关联的代码体，执行完成后，init 值被丢弃。

### 什么是以太坊虚拟机（EVM）？

**回点**

是一种仅支持一种虚拟执行环境的脚本语言，这种脚本实现了自动化解决纠纷的问题，节省了开发者的精力。它专为以太坊区块链设计，是智能合约的主要执行环境，在以太坊系统内部处理所有智能合约的运行，创建了一个类似容器的隔离环境，确保运行在 EVM 内部的代码无法接触外部网络、文件系统或其他进程，即使是智能合约之间的交互也受到严格限制。

### 以太坊的区块结构包括哪些部分？

**回点**

* 主要由三个部分组成：区块头、交易列表和叔区块头

1. ​**区块头**​：包含了多项重要信息，如父区块的哈希值、叔区块的哈希值（uncles hash）、状态树根哈希（state root）、交易树根哈希（tx root）、收据树根哈希（receipt root）、时间戳、随机数等。
2. ​**交易列表**​：由矿工从交易池中筛选并打包的一系列交易哈希构成，这些是在该区块生成期间被确认的交易 。
3. ​**叔区块头**​：指那些未能成为主链一部分但被主链区块引用的区块。每个主链中的区块最多可以引用两个叔区块。

### 以太坊数据层的主要功能是什么？

**回点**

* 以太坊数据层的主要功能是使用 LevelDB 数据库以键值对形式存储数据，并使用 Merkle Patricia Tree（MPT）数据结构进行管理。这一层是区块链架构的基础组成部分。

### 以太坊中有哪两种类型的账户？

**回点**

* 在以太坊中，账户分为两种类型：外部账户和合约账户。
  **外部账户**​：由用户手动创建，并直接由私钥控制。
  ​**合约账户**​：由外部账户创建，并受到部署的合约代码的控制，合约账户内部存储了智能合约的代码和相关数据。

### 以太坊如何防止外部账户的重复支付问题？

**回点**

以太坊通过外部账户的 `nonce` 字段来防止重复支付（双花问题）：`nonce` 字段表示该账户发出的交易数量。当外部账户发起交易时，客户端需要填充包括 `nonce` 在内的详细信息，`nonce` 代表发送者账户发出的交易总数。每进行一次交易，`nonce` 的值就会增加。节点在验证交易时，会检查交易中的 `nonce` 值是否与该账户在区块链上记录的 `nonce` 值一致且为预期的下一个值。如果 `nonce` 值不正确，比如小于或不等于预期的下一个值，节点就会认为该交易无效，从而防止了重复交易（双花问题）的发生。

### 描述以太坊的合约账户如何被创建？

**回点**

* 以太坊中的合约账户是通过部署智能合约来创建的。
* 这些账户不由私钥管理，而是由合约的部署者控制。
* 合约账户可以编写特定函数来实现所有权的转移或继承。

### 以太坊中交易的两大类别是什么？

**回点**

* 以太坊中的交易分为两大类：消息通信和合约创建。
* 这两种类型的交易都是由外部账户发起并提交到以太坊网络，然后通过网络传输，并最终记录在以太坊区块链上。

### 以太坊是如何实现交易签名和验证的？

**回点**

* 采用 EIP-155 规定的签名方案，在交易数据结构中添加 v、r、s 三个字段，签名前在交易数据中添加链标识符，确保交易不能在其他链重放，通过私钥对交易进行签名。
* 节点接收到交易后，验证交易结构和签名是否有效，确保交易的真实性和完整性，只有验证通过的交易才会被进一步处理，确保在一个链上创建的交易不能在其他链上重放。

### 以太坊区块的封印（Seal）过程包括哪些关键步骤？

**回点**

* 以太坊区块的封印过程首先包括创建一个完整的新区块，这包括填充区块头的部分属性、编排交易列表、添加 uncle 区块等。
* 封印阶段涉及计算难度值、随机数和混合哈希值，这一过程确保了区块的安全性。

### 以太坊如何处理网络中同时产生的多个区块？

**回点**

* 系统会选择所有分叉链中总难度最高的链作为主链，主链上的区块将获得挖矿奖励。
* 在路径长度相等的情况下，需要比较两个叶子节点路径上区块的总难度，由于区块头包含了难度值信息，因此可以仅通过区块头来比较各个路径已完成的计算量。难度越大的，会被选为主链。

### 描述以太坊 P2P 网络中的 Kademlia（Kad）协议的基本工作原理？

**回点**

* Kademlia 协议是基于分布式哈希表的 P2P 网络协议，使用异或距离来测量节点间距离，并通过维护一个路由表来实现节点查找和资源定位。
* 节点通过向距离目标节点最近的其他节点发送查询请求来查找目标节点或数据。

### 以太坊节点如何实现数据的存储和检索？

**回点**

* 以太坊节点通过 Kademlia 协议实现数据的存储和检索。
* 数据存储时，将数据的副本存储在距离数据键最近的 k 个节点上。
* 数据查找时，节点基于数据键进行搜索，目标是找到实际存储该数据的节点或更接近目标数据的节点。
